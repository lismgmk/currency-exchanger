{"version":3,"sources":["App.module.css","reportWebVitals.ts","assets/PlusSVG.js","assets/MinusSVG.js","App.tsx","index.tsx"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","PlusSVG","width","height","xmlns","fillRule","clipRule","d","MinusSVG","style","bottom","position","App","initial","useState","data","setData","dataInit","setDataInit","numbers","setNumber","attribute","setAttribute","show","setShow","useEffect","a","axios","get","result","Object","values","Valute","fetchData","countInput","event","target","dataset","currunsy","value","replace","actualData","filter","i","includes","CharCode","actualSelectData","rate","className","s","main","container","map","wrapper","wrapper_input","data-currunsy","Value","Nominal","toFixed","onChange","type","currensy_name","Name","wrapper_del_icon","onClick","j","ID","wrapper_add","wrapper_add_icon","onBlur","e","currentTarget","el","nanoid","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8GACAA,EAAOC,QAAU,CAAC,KAAO,kBAAkB,UAAY,uBAAuB,QAAU,qBAAqB,cAAgB,2BAA2B,cAAgB,2BAA2B,iBAAmB,8BAA8B,iBAAmB,gC,4ECaxPC,G,MAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,Q,wFCPDQ,EAAU,WACnB,OAAO,qBAAKC,MAAM,KAAKC,OAAO,KACrBC,MAAM,6BAA6BC,SAAS,UAAUC,SAAS,UADjE,SAC2E,sBAAMC,EAAE,oPCFjFC,EAAW,WACpB,OAAO,qBACHC,MAAO,CAACC,OAAQ,MAChBC,SAAU,YAEVT,MAAM,KAAKC,OAAO,KAAKC,MAAM,6BAA6BC,SAAS,UAAUC,SAAS,UAJnF,SAKC,sBAAMC,EAAE,oOCyGLK,MAzGf,WAEI,IAAMC,EAAU,CAAC,MAAO,MAAO,OAFpB,EAOaC,mBAAwB,IAPrC,mBAOJC,EAPI,KAOEC,EAPF,OAQqBF,mBAASD,GAR9B,mBAQJI,EARI,KAQMC,EARN,OASkBJ,mBALR,QAJV,mBASJK,EATI,KASKC,EATL,OAUuBN,mBAPT,OAHd,mBAUJO,EAVI,KAUOC,EAVP,OAWaR,oBAAS,GAXtB,mBAWJS,EAXI,KAWEC,EAXF,KAcXC,qBAAU,YACS,uCAAG,4BAAAC,EAAA,sEACOC,IAAMC,IACvB,8CAFU,OACRC,EADQ,OAIdb,EAAQc,OAAOC,OAAOF,EAAOd,KAAKiB,SAJpB,2CAAH,qDAMfC,KACD,IAGH,IAAMC,EAAa,SAACC,GAChBb,EAAaa,EAAMC,OAAOC,QAAQC,UAClClB,EAAUe,EAAMC,OAAOG,MAAMC,QAAQ,YAAa,IAC7CA,QAAQ,IAAK,KACbA,QAAQ,eAAgB,MACxBA,QAAQ,iCAAkC,QAG7CC,EAAa1B,EAAK2B,QAAO,SAAAC,GAAC,OAAI1B,EAAS2B,SAASD,EAAEE,aAClDC,EAAmB/B,EAAK2B,QAAO,SAAAC,GAAC,OAAK1B,EAAS2B,SAASD,EAAEE,aACzDE,EAAOhC,EAAK2B,QAAO,SAACC,GAAD,OAAYA,EAAEE,WAAaxB,KAQpD,OACI,qBAAK2B,UAAWC,IAAEC,KAAlB,SACI,sBAAKF,UAAWC,IAAEE,UAAlB,UACI,uHAEIV,EAAWW,KAAI,SAACT,GACZ,OAAO,sBACHK,UAAWC,IAAEI,QADV,UAGFV,EAAEE,SACH,sBAAKG,UAAWC,IAAEK,cAAlB,UACI,uBACIC,gBAAeZ,EAAEE,SACjBN,MAAOlB,IAAcsB,EAAEE,SAAW1B,GAAYA,EAAU4B,EAAK,GAAGS,MAAQb,EAAEc,QAAWd,EAAEa,OAAOE,QAAQ,GACtGC,SAAUzB,EACV0B,KAAK,SAET,sBAAMZ,UAAWC,IAAEY,cAAnB,SAAmClB,EAAEmB,WAGvCjD,EAAQ+B,SAASD,EAAEE,WACrB,qBACIG,UAAWC,IAAEc,iBACbC,QAAS,WACL9C,EAAYD,EAASyB,QAAO,SAAAuB,GAAC,OAAIA,IAAMtB,EAAEE,cAHjD,SAMI,cAAC,EAAD,QAnBCF,EAAEuB,OAyBnB,sBAAKlB,UAAWC,IAAEkB,YAAlB,UACI,sBACInB,UAAWC,IAAEmB,iBACbJ,QAAS,kBAAMxC,GAAQ,IAF3B,UAGC,cAAC,EAAD,IACG,4HAEHD,GACD,wBACI8C,OAAQ,WACJ7C,GAAQ,IAEZmC,SAlDG,SAACW,GACpBpD,EAAY,CAACoD,EAAEC,cAAchC,OAAlB,mBAA4BtB,KACvCO,GAAQ,IA4CI,SAKKsB,EAAiBM,KAAI,SAAAoB,GAClB,OAAO,wBAEHjC,MAAOiC,EAAG3B,SAFP,mBAGF2B,EAAG3B,SAHD,YAGa2B,EAAGV,OAFdW,6BC7FrCC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BtF,M","file":"static/js/main.3352a773.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__1nAwz\",\"container\":\"App_container__JTKar\",\"wrapper\":\"App_wrapper__1J-eC\",\"wrapper_input\":\"App_wrapper_input__14vfI\",\"currensy_name\":\"App_currensy_name__bIo2j\",\"wrapper_add_icon\":\"App_wrapper_add_icon__33XHG\",\"wrapper_del_icon\":\"App_wrapper_del_icon__1CsBN\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\n\nexport const PlusSVG = () => {\n    return <svg width=\"24\" height=\"24\"\n             xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\"><path d=\"M11.5 0c6.347 0 11.5 5.153 11.5 11.5s-5.153 11.5-11.5 11.5-11.5-5.153-11.5-11.5 5.153-11.5 11.5-11.5zm0 1c5.795 0 10.5 4.705 10.5 10.5s-4.705 10.5-10.5 10.5-10.5-4.705-10.5-10.5 4.705-10.5 10.5-10.5zm.5 10h6v1h-6v6h-1v-6h-6v-1h6v-6h1v6z\"/>\n        </svg>\n\n}\n","import React from \"react\";\n\nexport const MinusSVG = () => {\n    return <svg\n        style={{bottom: '0px',\n        position: 'absolute'\n        }}\n        width=\"24\" height=\"24\" xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\">\n            <path d=\"M11.5 0c6.347 0 11.5 5.153 11.5 11.5s-5.153 11.5-11.5 11.5-11.5-5.153-11.5-11.5 5.153-11.5 11.5-11.5zm0 1c5.795 0 10.5 4.705 10.5 10.5s-4.705 10.5-10.5 10.5-10.5-4.705-10.5-10.5 4.705-10.5 10.5-10.5zm-6.5 10h13v1h-13v-1z\"/>\n        </svg>\n\n}\n","import React, {ChangeEvent, useEffect, useState} from 'react';\r\nimport s from './App.module.css'\r\nimport axios from \"axios\";\r\nimport {nanoid} from \"nanoid\"\r\nimport {IData, IValuteData} from \"./types\";\r\nimport {PlusSVG} from \"./assets/PlusSVG\";\r\nimport {MinusSVG} from \"./assets/MinusSVG\";\r\n\r\nfunction App() {\r\n\r\n    const initial = ['USD', 'EUR', 'BYN']\r\n    const initialAttribute = 'USD'\r\n    const initialValue = '1.00'\r\n\r\n\r\n    const [data, setData] = useState<IValuteData[]>([]);\r\n    const [dataInit, setDataInit] = useState(initial)\r\n    const [numbers, setNumber] = useState<any>(initialValue)\r\n    const [attribute, setAttribute] = useState<string | undefined>(initialAttribute)\r\n    const [show, setShow] = useState(false)\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const result = await axios.get<IData>(\r\n                'https://www.cbr-xml-daily.ru/daily_json.js',\r\n            )\r\n            setData(Object.values(result.data.Valute))\r\n        };\r\n        fetchData();\r\n    }, [])\r\n\r\n\r\n    const countInput = (event: ChangeEvent<HTMLInputElement>) => {\r\n        setAttribute(event.target.dataset.currunsy)\r\n        setNumber(event.target.value.replace(/[^\\d.,]*/g, '')\r\n            .replace(/,/, '.')\r\n            .replace(/([,.])[,.]+/g, '$1')\r\n            .replace(/^[^\\d]*(\\d+([.,]\\d{0,2})?).*$/g, '$1'))\r\n    }\r\n\r\n    const actualData = data.filter(i => dataInit.includes(i.CharCode))\r\n    const actualSelectData = data.filter(i => !dataInit.includes(i.CharCode))\r\n    const rate = data.filter((i: any) => i.CharCode === attribute)\r\n\r\n\r\n    const changeCurrensy = (e: ChangeEvent<HTMLSelectElement>) => {\r\n        setDataInit([e.currentTarget.value, ...dataInit])\r\n        setShow(false)\r\n    }\r\n\r\n    return (\r\n        <div className={s.main}>\r\n            <div className={s.container}>\r\n                <h1>Конвертер валют</h1>\r\n                {\r\n                    actualData.map((i) => {\r\n                        return <div\r\n                            className={s.wrapper}\r\n                            key={i.ID}>\r\n                            {i.CharCode}\r\n                            <div className={s.wrapper_input}>\r\n                                <input\r\n                                    data-currunsy={i.CharCode}\r\n                                    value={attribute === i.CharCode ? numbers : ((numbers * rate[0].Value * i.Nominal) / i.Value).toFixed(2)}\r\n                                    onChange={countInput}\r\n                                    type='text'\r\n                                />\r\n                                <span className={s.currensy_name}>{i.Name}</span>\r\n                            </div>\r\n\r\n                            {!initial.includes(i.CharCode) &&\r\n                            <div\r\n                                className={s.wrapper_del_icon}\r\n                                onClick={() => {\r\n                                    setDataInit(dataInit.filter(j => j !== i.CharCode))\r\n                                }}\r\n                            >\r\n                                <MinusSVG/>\r\n                            </div>}\r\n\r\n                        </div>\r\n                    })\r\n                }\r\n                <div className={s.wrapper_add}>\r\n                    <div\r\n                        className={s.wrapper_add_icon}\r\n                        onClick={() => setShow(true)}\r\n                    ><PlusSVG/>\r\n                        <span>Добавить валюту</span>\r\n                    </div>\r\n                    {show &&\r\n                    <select\r\n                        onBlur={() => {\r\n                            setShow(false)\r\n                        }}\r\n                        onChange={changeCurrensy}>\r\n                        {actualSelectData.map(el => {\r\n                            return <option\r\n                                key={nanoid()}\r\n                                value={el.CharCode}\r\n                            >{`${el.CharCode} ${el.Name}`}</option>\r\n                        })\r\n                        }\r\n                    </select>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}